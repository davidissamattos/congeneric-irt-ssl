"0","stanmodel$print()"
"1","// IRT Congeneric model"
"1","
"
"1","// Author:David Issa Mattos"
"1","
"
"1","// Date: 25 March 2021"
"1","
"
"1",""
"1","
"
"1","data {"
"1","
"
"1","  int<lower=0> N; // size of the vector"
"1","
"
"1","  vector[N] y; // response of the item"
"1","
"
"1","  int p[N]; // test taker index(the model)"
"1","
"
"1","  int<lower=0> Np; // number of test takes (number of models)"
"1","
"
"1","  int item[N]; // item index of the test (the dataset)"
"1","
"
"1","  int<lower=0> Nitem; // number of items in the test"
"1","
"
"1","}"
"1","
"
"1",""
"1","
"
"1",""
"1","
"
"1","parameters {"
"1","
"
"1"," real<lower=0> b[Nitem]; // difficulty parameter"
"1","
"
"1"," real<lower=0> a[Nitem]; // discrimination parameter"
"1","
"
"1"," real<lower=0> theta[Np]; // ability of the test taker"
"1","
"
"1"," real<lower=0> sigma;"
"1","
"
"1","}"
"1","
"
"1",""
"1","
"
"1","model {"
"1","
"
"1","  real mu[N];"
"1","
"
"1",""
"1","
"
"1","  //Weakly informative priors"
"1","
"
"1","  b ~ normal(0, 1);"
"1","
"
"1","  a ~ normal(0,1);"
"1","
"
"1","  theta ~ normal(0,3);"
"1","
"
"1","  sigma ~ exponential(0.1);"
"1","
"
"1",""
"1","
"
"1","  //Linear model"
"1","
"
"1","  for(i in 1:N){"
"1","
"
"1","    mu[i] = b[item[i]] + a[item[i]]*theta[p[i]];"
"1","
"
"1","  }"
"1","
"
"1","  y ~ normal(mu, sigma);"
"1","
"
"1",""
"1","
"
"1","}"
"1","
"
"1",""
"1","
"
"1","generated quantities{"
"1","
"
"1","  vector[N] log_lik;"
"1","
"
"1","  vector[N] y_rep;"
"1","
"
"1","  for(i in 1:N){"
"1","
"
"1","    real mu;"
"1","
"
"1","    mu = b[item[i]] + a[item[i]]*theta[p[i]];"
"1","
"
"1","    log_lik[i] = normal_lpdf(y[i] | mu, sigma );"
"1","
"
"1","    y_rep[i] = normal_rng( mu, sigma);"
"1","
"
"1","  }"
"1","
"
"1","}"
"1","
"
